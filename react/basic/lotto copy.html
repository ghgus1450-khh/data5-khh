<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로또번호 추첨</title>
    <style>
        .ball{display: inline-block; border: 2px solid #333; background: lightcoral; color: #fff;
            border-radius: 50%; width: 40px; height: 40px; line-height: 40px; 
            font-size: 20px; text-align: center; margin-right: 20px;}
    </style>
</head>
<body>
    <div id="result">
        추첨결과 : 
    </div>

    <div id="bonus">
        보너스 : 
    </div>
</body>
    <script>
        const candidate = Array(45).fill().map((v,i)=>i+1); 
        console.log("-->"+candidate[44]);
        const shuffle = []; 


        // 로또번호 섞기
        while(candidate.length > 0){ // 네가 몇개 가지고 있는지는 모르지만 일단 네가 가지고 있는 것중에 0보다 큰 걸 다 꺼내 (배열은 비교가 있어야 한다)
            const random = Math.floor(Math.random()*candidate.length); // 무작위 인덱트 뽑기  // length를 사용한다 45같은 정수를 쓰면, 줄어든다
            const spliceArray = candidate.splice(random,1); // 뽑은 값은 배열에 들어 있음 // splice : 배열의 기존 요소를 삭제 또는 교체하거나 새 요소를 추가 배열 내용 변경
            console.log("뽑은 공 :"+spliceArray);
            const value = spliceArray[0];
            shuffle.push(value); //shuffle 배열에 넣기 // push : 배열에 추가, 넣기
        };

        // 6개 로또번호 뽑기
        console.log(shuffle);
        const winBalls = shuffle.slice(0,6).sort((a,b)=>a-b); // slice : 배열 잘라내기 // sort : 오름차순, 내림차순으로 배열해줌 sort((a,b)=>a-b) 가 오름차순 식이다
        console.log("-->"+winBalls);
        const bonus = shuffle[6];

        

        // 태그 생성하고 로또번호 출력 준비
        const $result = document.querySelector("#result");
        const $bonusBox = document.querySelector("#bonus");
        
        const drawBall = (number, $parent)=>{ // 고차함수 
            const $ball = document.createElement("div");
            $ball.className = "ball";
            if(number < 10){
                $ball.style.background = 'red';
            }else if(number < 20){
                $ball.style.background = 'orenge';
            }else if(number < 30){
                $ball.style.background = 'coral';
            }else if(number < 40){
                $ball.style.background = 'blue';
            }else{
                $ball.style.background = 'green';
            };
            $ball.textContent = number;
            $parent.appendChild($ball);

        };


        // 6번 반복해서 로또 번호를 화면에 출력
        // 1초 간격을 유지하면서 ...
        
        for(let i=0; i<winBalls.length; i++){
            setTimeout(()=>{
                // 1초후에 해야할 일을 기술
                drawBall(winBalls[i], $result)
            },1000*(i+1));
        };
        
        // 보너스 추출
        
            setTimeout(()=>{
                drawBall(bonus,$bonusBox)
            },7000);
       
        

    </script>
</html>